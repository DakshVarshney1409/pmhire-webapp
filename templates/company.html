{% extends 'base.html' %}
{% load static %}
{% block title%} Company | PM-Hire{% endblock title%}

{% block body%}
<div class="container">
    <div class="pricing-header p-3 pb-md-4 mx-auto text-center">
      <h2><p style="text-align:center;color:#004799;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">It's easy to hire the best candidate for the job.</p></h2>
      <p class="fs-5 text-muted" style="color:#008bd9">Take your company's vision to new heights with interns from PM-Hire!</p>
    </div>
    </div>

<div class="container marketing">

    <!-- Three columns of text below the carousel -->
    <div class="row">
      <div class="col-lg-4">
        
        <img class="bd-placeholder-img rounded-circle mx-auto d-block" width="140" height="140" src="{% static "images/ctaim2.png" %}">
        <h2 class="fw-normal" style="color:#008bd9;text-align:center;">1. Post an internship</h2>
        <p style="text-align:center;">Tell us about your role and we'll reach out to the right candidates.</p>
        
      </div><!-- /.col-lg-4 -->
      <div class="col-lg-4">
        <img class="bd-placeholder-img rounded-circle mx-auto d-block" width="140" height="140" src="{% static "images/ctaim1.png" %}">
        <h2 class="fw-normal" style="color:#008bd9;text-align:center;">2. Review candidates</h2>
        <p style="text-align:center;">Browse profiles, shortlist and reject with a simple click.</p><br>
        
              
      </div><!-- /.col-lg-4 -->
      <div class="col-lg-4">
        <img class="bd-placeholder-img rounded-circle mx-auto d-block" width="140" height="140" src="{% static "images/ctaim3.png" %}">
        <h2 class="fw-normal" style="color:#008bd9;text-align:center;">3. Hire candidate</h2>
        <p style="text-align:center;">Make the process downright simple and convenient.</p>
        
      </div><!-- /.col-lg-4 -->
      
    </div><!-- /.row -->
    </div>
    
    <!--form start-->
    <div class="container py-5">
      <div class="row">
          <div class="col-lg-5 col-md-8 mx-auto shadow border bg-white p-4 rounded">
              <h2 class="text-center mb-3" style="color:#008bd9;">Post an Internship</h2>
              <form name="google-sheet">
                  
                  <div class="form-group mb-3">
                      <label for="company" class="form-label">Name of company*</label>
                      <input type="text" id="company" name="company" class="form-control" placeholder="Enter your company's name" required>
                  </div>
                  <div class="form-group mb-3">
                      <label for="name" class="form-label">Your name*</label>
                      <input type="text" id="name" name="name" class="form-control" placeholder="Enter your name" required>
                  </div>
                  <div class="form-group mb-3">
                    <label for="designation" class="form-label">Your designation*</label>
                    <input type="text" id="designation" name="designation" class="form-control" placeholder="Enter your designation" required>
                </div>
                  
                  <div class="form-group mb-3">
                    <label for="phone" class="form-label">Phone number*</label>
                    <input type="text" id="phone" name="phone" class="form-control" placeholder="Enter your phone number" required>
                </div>
                <div class="form-group mb-3">
                    <label for="email" class="form-label">Email*</label>
                    <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email address" required>
                </div>
                <div class="form-group mb-3">
                  <label for="duration" class="form-label">Duration of internship*</label>
                  <input type="text" id="duration" name="duration" class="form-control" placeholder="Enter duration of internship" required>
              </div>
                <div class="form-group mb-3">
                  <label for="location" class="form-label">Location*</label>
                  <input type="text" id="location" name="location" class="form-control" placeholder="Enter location" required>
              </div>
              <div class="form-group mb-3">
                <label for="stipend" class="form-label">Stipend*</label>
                <input type="text" id="stipend" name="stipend" class="form-control" placeholder="Enter offered stipend" required>
            </div>
            <div class="form-group mb-3">
              <label for="information" class="form-label">Other information*</label>
              <input type="text" id="information" name="information" class="form-control" placeholder="Any other requirements?" required>
          </div>
          <div id="form_alerts"></div>
                  <div>
                      <button class="btn btn-primary me-2" type="submit">Submit Application</button>
                      <button class="btn btn-danger" type="reset">Clear details</button>
                  </div>
              </form>
          </div>
      </div>
  </div>
  <!--form ends-->

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbykXODD_IOwtUF85DpKqF27Ud0EikTxTcM3Ggui9rL_4rOLGh8jCzLSg-LU01ovfW1rgA/exec'
      const form = document.forms['google-sheet']
      
      form.addEventListener('submit', e => {
          e.preventDefault()
          fetch(scriptURL, { method: 'POST', body: new FormData(form)})
          .then(response => $("#form_alerts").html("<div class='alert alert-success'>Internship details sent successfully.</div>"))
          .catch(error => $("#form_alerts").html("<div class='alert alert-danger'>Details not sent.</div>"))
      })
  </script>
{% endblock body%}