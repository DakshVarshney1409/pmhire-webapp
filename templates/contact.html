{% extends 'base.html' %}
{% load static %}
{% block title%} Contact Us | PM-Hire{% endblock title%}

{% block body%}

<div class="container">
    <div class="pricing-header p-3 pb-md-4 mx-auto text-center">
      <h2><p style="text-align:center;color:#004799;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;">Feel free to share your queries and suggestions</p></h2>
      
    </div>
    </div>
    <!--form start-->
    <div class="container py-1">
      <div class="row">
          <div class="col-lg-5 col-md-8 mx-auto shadow border bg-white p-4 rounded">
              <h2 class="text-center mb-3" style="color:#008bd9;">Contact Us</h2>
              <form name="google-sheet">
                  
                  <div class="form-group mb-3">
                      <label for="name" class="form-label">Your name*</label>
                      <input type="text" id="name" name="name" class="form-control" placeholder="Enter your full name" required>
                  </div>
                  <div class="form-group mb-3">
                    <label for="email" class="form-label">Email*</label>
                    <input type="email" id="email" name="email" class="form-control" placeholder="Enter your email address" required>
                </div>
                  
                  <div class="form-group mb-3">
                    <label for="phone" class="form-label">Phone number*</label>
                    <input type="text" id="phone" name="phone" class="form-control" placeholder="Enter your phone number" required>
                </div>
                <div class="form-group mb-3">
                  <label for="message" class="form-label">Your message*</label>
                  <input type="text" id="message" name="message" class="form-control" placeholder="Enter your queries or suggestions" required>
              </div>
                
              

          <div id="form_alerts"></div>
                  <div>
                      <button class="btn btn-primary me-2" type="submit">Send Message</button>
                      <button class="btn btn-danger" type="reset">Clear details</button>
                  </div>
              </form>
          </div>
      </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbzKYY8L6utJA_ouLsssP1c9VcqRu8djYuuEH_JzT_-C-Rdjmd5QLde15CTEaa6SLXxX/exec'
    const form = document.forms['google-sheet']
    
    form.addEventListener('submit', e => {
        e.preventDefault()
        fetch(scriptURL, { method: 'POST', body: new FormData(form)})
        .then(response => $("#form_alerts").html("<div class='alert alert-success'>Message sent successfully.</div>"))
        .catch(error => $("#form_alerts").html("<div class='alert alert-danger'>An error occured</div>"))
    })
</script>
{% endblock body%}